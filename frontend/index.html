<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PharmaCheck AI | Clinical Decision Support</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" xintegrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

    <!-- Professional Medical Navbar -->
    <nav class="navbar">
        <div class="logo-container">
            <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM11 7H13V11H17V13H13V17H11V13H7V11H11V7Z" fill="currentColor"/>
            </svg>
            <span class="logo-text">PharmaCheck<span class="logo-accent">AI</span></span>
        </div>
        <div class="nav-controls">
            <!-- New: Language Selector -->
            <select id="languageSelect" class="lang-select">
                <option value="English">English</option>
                <option value="Hindi">Hindi (हिंदी)</option>
                <option value="Spanish">Spanish (Español)</option>
                <option value="French">French (Français)</option>
                <option value="German">German (Deutsch)</option>
            </select>
            <div class="nav-status">
                <span class="status-dot"></span> System Operational
            </div>
        </div>
    </nav>

    <!-- Main Clinical Interface -->
    <main class="clinical-container">
        
        <header class="page-header">
            <h1>Drug Interaction Analysis</h1>
            <p class="subtitle">Upload multiple prescriptions or enter details to screen for cross-interactions.</p>
        </header>

        <!-- Input Section -->
        <section class="card input-card" id="inputSection">
            
            <div class="form-group">
                <label for="description">Patient Context / Medication List</label>
                
                <div class="textarea-wrapper">
                    <textarea 
                        id="description"
                        placeholder="e.g. Patient is currently taking Amoxicillin (500mg) and reports a headache..."
                    ></textarea>
                    <!-- Voice Input Button -->
                    <button id="micBtn" class="mic-button" title="Dictate Symptoms" onclick="toggleSpeech()">
                        <i class="fas fa-microphone"></i>
                    </button>
                </div>
            </div>

            <!-- New: Patient Conditions Toggles -->
            <div class="form-group">
                <label>Special Patient Conditions (Safety Check)</label>
                <div class="conditions-grid">
                    <label class="checkbox-card">
                        <input type="checkbox" name="condition" value="Pregnancy/Breastfeeding">
                        <span class="check-label"><i class="fas fa-baby-carriage"></i> Pregnancy</span>
                    </label>
                    <label class="checkbox-card">
                        <input type="checkbox" name="condition" value="Elderly (65+)">
                        <span class="check-label"><i class="fas fa-user-clock"></i> Elderly (65+)</span>
                    </label>
                    <label class="checkbox-card">
                        <input type="checkbox" name="condition" value="Kidney/Liver Disease">
                        <span class="check-label"><i class="fas fa-procdures"></i> Kidney/Liver Issue</span>
                    </label>
                    <label class="checkbox-card">
                        <input type="checkbox" name="condition" value="High Blood Pressure">
                        <span class="check-label"><i class="fas fa-heartbeat"></i> Hypertension</span>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label>Prescription Images (Upload Multiple)</label>
                <label class="file-drop-zone">
                    <input type="file" id="imageInput" accept="image/*" multiple onchange="handleFileSelect()" hidden />
                    <div class="drop-content">
                        <i class="fas fa-cloud-upload-alt upload-icon"></i>
                        <span id="fileName">Click to Upload Prescription Image(s)</span>
                    </div>
                </label>
            </div>

            <div class="action-bar">
                <button class="btn-primary" onclick="checkInteractions()">
                    Run Safety Analysis
                </button>
            </div>
        </section>

        <!-- Loading State -->
        <div id="loading" class="loading-state" style="display: none;">
            <div class="pulse-loader"></div>
            <p>Analyzing clinical data across prescriptions...</p>
        </div>

        <!-- Results Section -->
        <section id="results" class="card result-card" style="display: none;">
            
            <div class="result-header">
                <h2>Analysis Report</h2>
                <div id="riskBadge" class="risk-badge badge-unknown">
                    Processing...
                </div>
            </div>

            <div class="result-body">
                <div class="data-group">
                    <span class="data-label">Identified Medications</span>
                    <div id="medsList" class="med-tags"></div>
                </div>

                <div class="data-group">
                    <span class="data-label">Clinical Interaction Alert</span>
                    <div class="alert-box">
                        <p id="alertMessage">--</p>
                    </div>
                </div>

                <div id="altSection" class="data-group" style="display: none;">
                    <span class="data-label">Recommended Alternatives</span>
                    <div class="alternatives-box">
                        <ul id="altList"></ul>
                    </div>
                </div>
            </div>

            <div class="result-footer">
                <button class="btn-secondary" onclick="window.print()">
                    <i class="fas fa-print"></i> Save Report
                </button>
                <button class="btn-secondary" onclick="resetForm()">
                    Check Another
                </button>
            </div>
        </section>

    </main>

    <footer class="medical-footer">
        <div class="footer-content">
            <p><strong>Disclaimer:</strong> This system is a Clinical Decision Support Tool (CDST) and does not provide medical diagnoses.</p>
            <p>All results must be verified by a licensed healthcare professional.</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>